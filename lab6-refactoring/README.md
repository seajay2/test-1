# Lab 6 — Refactoring & Code Smells

## Найденные проблемы (code smells)
- Длинная функция `process_checkout` с большим количеством логики.
- Смешение этапов: разбор запроса, валидация, расчёты и формирование ответа.
- Магические числа (`0.21`, `200`, `0.10`, `0.20`, `0.05`, `50`, `10`) в коде.
- Логику скидок сложно расширять и поддерживать.

## Применённые рефакторинги
- **Extract Method**: вынесены функции для валидации, расчёта `subtotal`, `discount`, `tax` и `order_id`.
- **Introduce Constants**: все магические числа вынесены в именованные константы.
- Код организован так, что читается сверху вниз как сценарий  
  (`validate → subtotal → discount → tax → response`).

## Что стало проще
- `process_checkout` стал короче и понятнее.
- Проще изменять правила скидок и налога.
- Код легче тестировать и расширять.
